<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="refresh" content="5" />
  <title>异常处理</title>
</head>

<body>
  <input type="button" value="查看消息" onclick="message()" /><br />
  <input type="text" id="demo" />
  <button type="button" onclick="myFunction()">点我</button><br />
  <p id="p01"></p>
  <script>
  var txt = "";

  function message() {
    try {
      adlert("Welcome guest!");
    } catch (err) {
      txt = "本页有一个错误。\n";
      txt += "错误描述: " + err.message + "\n";
      txt += "点击确定继续。\n";
      alert(txt);
    }
  }

  function myFunction() {
    var message, x;
    message = document.getElementById("p01");
    message.innerHTML = "";
    x = document.getElementById("demo").value;
    try {
      if (x == "") throw "值是空的";
      if (isNaN(x)) throw "值不是一个数字";
      x = Number(x);
      if (x > 10) throw "太大";
      if (x < 5) throw "太小";
    }
    catch(err) {
      message.innerHTML = "错误: " + err + ".";
    }
    finally {
      document.getElementById("demo").value = "";
    }
  }
  </script>
</body>

</html>